<mujoco model="pick_kiwi_mmk2">

  <include file="../scene.xml"/>
  <include file="../mmk2/mmk2_options.xml"/>
  <include file="../mmk2/mmk2_dependencies.xml"/>

  <compiler meshdir="../../meshes/" texturedir="../../textures/"/>

  <include file="../object/bowl_dependencies.xml"/>
  <include file="../object/plate_white_dependencies.xml"/>
  <include file="../object/wood_dependencies.xml"/>
  <include file="../object/kiwi_dependencies.xml"/>


  <default>
    <default class="obj_visual">
      <geom group="2" type="mesh" contype="0" conaffinity="0"/>
    </default>
    <default class="obj_collision">
      <geom group="3" condim="4" solimp="2 1 0.01" solref="0.01 1" friction="1 0.005 0.0001" type="mesh"/>
    </default>
  </default>

  <worldbody>
    <body name='mmk2' pos="0 0 1" euler="0 0 0">
      <joint type="free" frictionloss="0.0001" />
      <include file="../mmk2/mmk2.xml"/>
    </body>

    <!-- ======= bowl_green ======= -->
    <body name="bowl_yellow" pos="0.75 -1.0 0.9">
      <include file="../object/bowl_yellow.xml"/>
    </body>

    <!-- ======= wood ======= -->
    <body name="wood" pos="0.72 -2.0 0.9" euler="0 0 0">
      <include file="../object/wood.xml"/>
    </body>

    <!-- ======= kiwi ======= -->
    <body name="kiwi" pos="0.55 -1.08 0.9" euler="0 0 1.57">
      <include file="../object/kiwi.xml"/>
    </body>

    <!-- 场景 -->
    <body name="table_60_120" pos="0.75 -1.0 0">
      <geom size="0.3 0.6 0.01" pos="0 0 0.85" euler="0 0 1.5708" type="box" condim="4" solimp="2 1 0.01" solref="0.01 1" friction="1 0.005 0.0001" rgba="1 1 1 1"/>
      <geom size="0.02 0.02 0.37" pos=" 0.55  0.25 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
      <geom size="0.02 0.02 0.37" pos=" 0.55 -0.25 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
      <geom size="0.02 0.02 0.37" pos="-0.55  0.25 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
      <geom size="0.02 0.02 0.37" pos="-0.55 -0.25 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
    </body>

    <body name="table_60_180" pos="-1. -1.21 0">
      <geom size="0.3 0.9 0.01" pos="0 0 0.74" euler="0 0 1.5708" type="box" condim="4" solimp="2 1 0.01" solref="0.01 1" friction="1 0.005 0.0001" rgba="1 1 1 1"/>
      <geom size="0.02 0.02 0.37" pos=" 0.85  0.25 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
      <geom size="0.02 0.02 0.37" pos=" 0.85 -0.25 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
      <geom size="0.02 0.02 0.37" pos=" 0.00  0.25 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
      <geom size="0.02 0.02 0.37" pos=" 0.00 -0.25 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
      <geom size="0.02 0.02 0.37" pos="-0.85  0.25 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
      <geom size="0.02 0.02 0.37" pos="-0.85 -0.25 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
    </body>

    <body name="table_80_160" pos="-1.2 -0.11 0" euler="0 0 -1.5708">
      <geom size="0.4 0.8 0.01" pos="0 0 0.74" euler="0 0 1.5708" type="box" condim="4" solimp="2 1 0.01" solref="0.01 1" friction="1 0.005 0.0001" rgba="1 1 1 1"/>
      <geom size="0.02 0.02 0.37" pos=" 0.75  0.35 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
      <geom size="0.02 0.02 0.37" pos=" 0.75 -0.35 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
      <geom size="0.02 0.02 0.37" pos="-0.75  0.35 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
      <geom size="0.02 0.02 0.37" pos="-0.75 -0.35 0.37" type="box" contype="0" conaffinity="0" rgba="0.15 0.15 0.15 1" />
    </body>

    <body name="displayer" pos="-1.1 1.1 0">
      <geom size="0.7 0.015 0.4" pos="0 0 1.4" type="box" rgba=".1 .1 .1 1"/>
    </body>

    <body name="front_wall" pos="1.415 -0.03 0">
      <geom size="1.0 0.44 0.015" pos="0  0.0 1.0" euler="0 1.5708 0" type="box" rgba="1 1 1 1"/>
      <geom size="1.0 0.44 0.015" pos="0  0.9 1.0" euler="0 1.5708 0" type="box" rgba="1 1 1 1"/>
      <geom size="1.0 0.44 0.015" pos="0 -0.9 1.0" euler="0 1.5708 0" type="box" rgba="1 1 1 1"/>
      <geom size="1.0 0.44 0.015" pos="0 -1.8 1.0" euler="0 1.5708 0" type="box" rgba="1 1 1 1"/>
    </body>

    <body name="left_wall" pos="-0.03 1.415 0" euler="0 0 -1.5708">
      <geom size="1.0 0.44 0.015" pos="0  0.0 1.0" euler="0 1.5708 0" type="box" rgba="1 1 1 1"/>
      <geom size="1.0 0.44 0.015" pos="0  0.9 1.0" euler="0 1.5708 0" type="box" rgba="1 1 1 1"/>
      <geom size="1.0 0.44 0.015" pos="0 -0.9 1.0" euler="0 1.5708 0" type="box" rgba="1 1 1 1"/>
      <geom size="1.0 0.44 0.015" pos="0 -1.8 1.0" euler="0 1.5708 0" type="box" rgba="1 1 1 1"/>
      <geom size="1.0 0.44 0.015" pos="0 -2.7 1.0" euler="0 1.5708 0" type="box" rgba="1 1 1 1"/>
      <geom size="1.0 0.44 0.015" pos="0 -3.6 1.0" euler="0 1.5708 0" type="box" rgba="1 1 1 1"/>
    </body>
    
    <!-- <body name="cabinet_1" pos="0.36 1.22 0" euler="0 0 1.5708"> -->
    <body name="cabinet_1" pos="0.665 1.22 0" euler="0 0 1.5708">
      <geom size="0.15 0.01 1.015" pos="0  0.4 1.015"   type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.01 1.015" pos="0 -0.4 1.015"   type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.01 0.40 1.015" pos="0.14 0.0 1.015" type="box" rgba="0.9 0.9 0.9 1" />

      <geom size="0.15 0.4 0.01" pos="0 0 0.09" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 0.44" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 0.73" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 1.06" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 1.40" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 1.69"  type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 2.02"  type="box" rgba="0.9 0.9 0.9 1" />
    </body>

    <!-- <body name="cabinet_2" pos="1.03 1.03 0" euler="0 0 0.7854"> -->
    <body name="cabinet_2" pos="1.23 0.86 0" euler="0 0 0">
      <geom size="0.15 0.01 1.015" pos="0  0.2 1.015"   type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.01 1.015" pos="0 -0.2 1.015"   type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.01 0.20 1.015" pos="0.14 0.0 1.015" type="box" rgba="0.9 0.9 0.9 1" />

      <geom size="0.15 0.2 0.01" pos="0 0 0.09" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.2 0.01" pos="0 0 0.44" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.2 0.01" pos="0 0 0.73" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.2 0.01" pos="0 0 1.06" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.2 0.01" pos="0 0 1.40" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.2 0.01" pos="0 0 1.69"  type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.2 0.01" pos="0 0 2.02"  type="box" rgba="0.9 0.9 0.9 1" />
    </body>

    <!-- <body name="cabinet_3" pos="1.22 0.36 0"> -->
    <body name="cabinet_3" pos="1.23 0.238 0">
      <geom size="0.15 0.01 1.015" pos="0  0.4 1.015"   type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.01 1.015" pos="0 -0.4 1.015"   type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.01 0.40 1.015" pos="0.14 0.0 1.015" type="box" rgba="0.9 0.9 0.9 1" />

      <geom size="0.15 0.4 0.01" pos="0 0 0.09" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 0.44" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 0.73" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 1.06" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 1.40" type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 1.69"  type="box" rgba="0.9 0.9 0.9 1" />
      <geom size="0.15 0.4 0.01" pos="0 0 2.02"  type="box" rgba="0.9 0.9 0.9 1" />
    </body>
  </worldbody>

  <actuator>
    <include file="../mmk2/mmk2_control.xml"/>
  </actuator>

  <sensor>
    <include file="../mmk2/mmk2_sensor.xml"/>
  </sensor>

  <!-- <keyframe>
    <key name="pick" qpos='
       0 0 0  1 0 0 1 
       0 0 0  0 0
       0.    -0.166  0.032  0.     1.571  2.223  0 0 
      -0.    -0.166  0.032  0.    -1.571 -2.223  0 0 
       0.9 -1.2 0.8 1 0 0 0 
       0.65 -1 0.8  1 0 0 0 
       0.4 -1.5 0.8 1 0 0 1'
      ctrl = '
       0 0 0  0 0
       0.    -0.166  0.032  0.     1.571  2.223  0
      -0.    -0.166  0.032  0.    -1.571 -2.223  0
      '
    />
  </keyframe> -->

  <!-- <keyframe>
    <key name="pick" qpos='
      0.649634 -0.475168 0.00157895 0.705022 -0.000276934 -0.000275416 -0.709186 
      16.8177 10.6549 0.00606277 -9.29887e-05 0.623044 -0.000175043 1.54624e-06 
      -2.67503e-06 3.79887e-05 0.00285183 5.96264e-05 0.000442203 0.000218889 
      0.000174937 1.55502e-06 -2.6983e-06 -3.7989e-05 -0.00285183 -5.96269e-05 
      -0.000222897 -0.000436027 0.7 -1.17408 0.808825 1 -2.35823e-06 6.25704e-07 
      -1.16508e-05 0.720001 -1.03495 0.811926 1 -3.54944e-05 0.000175258 -0.000191837 
      0.540023 -1.09956 0.808052 0.70458 0.0665079 -0.0668841 0.703328'
      ctrl = '
       0 0 0  0 0
       0.    -0.166  0.032  0.     1.571  2.223  0
      -0.    -0.166  0.032  0.    -1.571 -2.223  0
      '
    />
  </keyframe> -->

  <keyframe>
    <key name="pick" qpos='
      0.649648 -0.472812 0.00157894 0.70502 -0.000276845 -0.000275326 -0.709187 
      16.7896 10.6267 0.161713 -9.29585e-05 0.623044 -0.000175043 1.54585e-06 
      -2.67416e-06 3.79887e-05 0.00285183 5.96264e-05 0.000442203 0.000218889 
      0.000174937 1.55463e-06 -2.69744e-06 -3.7989e-05 -0.00285183 -5.96269e-05 
      -0.000222897 -0.000436027 0.7 -1.17408 0.808825 1 -2.35823e-06 6.25704e-07 
      -1.16463e-05 0.72 -1.03496 0.811955 1 -3.68532e-05 0.000176946 -0.000204234 
      0.540011 -1.09955 0.808052 0.705572 0.0664143 -0.0669821 0.702333'
      ctrl = '
       0 0 0  0 0
       0.    -0.166  0.032  0.     1.571  2.223  0
      -0.    -0.166  0.032  0.    -1.571 -2.223  0
      '
    />
  </keyframe>


</mujoco>
